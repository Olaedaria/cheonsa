#include "base.hlsl"

// www.embege.com/gauss/
static float blur_sample_weights[ 31 ] =
{
	0.0019119326713402263, 0.0030521813623598988, 0.004717789703333523, 0.007060855453234782, 0.010232142132032782, 0.01435708620524977, 0.019505475976133682, 0.025658856478236923, 0.032681993792535606, 0.04030605464706683, 0.0481307396950944, 0.055650014718807775, 0.06230150407867801, 0.0675339699163879, 0.07088209239321337, 0.07203462155258891, 0.07088209239321337, 0.0675339699163879, 0.06230150407867801, 0.055650014718807775, 0.0481307396950944, 0.04030605464706683, 0.032681993792535606, 0.025658856478236923, 0.019505475976133682, 0.01435708620524977, 0.010232142132032782, 0.007060855453234782, 0.004717789703333523, 0.0030521813623598988, 0.0019119326713402263
};

void ps_main( in vertex_point_view_c input, out float4 output : SV_Target0 )
{
	output = 0.0;
	float2 lookup = ( input.position.xy * float2( 0.5, -0.5 ) + float2( 0.5, 0.5 ) );
	for ( int i = -15; i <= 15; i++ )
	{
		output += material_texture_0.SampleLevel( sample_linear_clamp, float2( lookup.x, lookup.y + ( i * canvas_actual_size_inverse.y ) ), 0 ) * blur_sample_weights[ i + 15 ];
	}
}
